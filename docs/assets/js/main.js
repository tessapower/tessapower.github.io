(()=>{var t={105:(t,e,n)=>{const{Grid:i}=n(584),{Point:r}=n(337);function o(t,e){return"x"==e.getValueAt(t)}function h(t,e,n){e.setValueAt(t,n?"x":" ")}function s(t,e){let n=t.neighbors,i=0;for(let t of n)e.contains(t)&&o(t,e)&&i++;return i}function u(t,e){let n=s(t,e),i=o(t,e);return i&&(n<2||n>3)&&(i=!1),i||3!=n||(i=!0),i}e.isAlive=o,e.setIsAlive=h,e.numAliveNeighbors=s,e.willPointLive=u,e.nextState=function(t){let e=new i({width:t.width,height:t.height});for(let n of t)h(n,e,u(n,t));return e},e.randomize=function(t){for(let e of t)h(e,t,Math.random()>.7);return t}},584:(t,e,n)=>{const{Point:i}=n(337);class r{constructor({width:t=0,height:e=t,defaultValue:n=null}={}){if("number"!=typeof t||"number"!=typeof e)throw new TypeError("Error: invalid width or height");if(t=Math.trunc(t),e=Math.trunc(e),t<0||e<0)throw new RangeError("Error: invalid width or height");this.width=t,this.height=e,this.content=[];for(let i=0;i<e;i++){this.content.push([]);for(let e=0;e<t;e++)this.content[i].push(n)}}getValueAt(t){if(!this.contains(t))throw RangeError("Error: unable to get value at ",t);return this.content[t.y][t.x]}setValueAt(t,e){if(t.x=Math.trunc(t.x),t.y=Math.trunc(t.y),!this.contains(t))throw new RangeError("Error: unable to set value at ",t);return this.content[t.y][t.x]=e,this.content}contains(t){let e=t.x<this.width&&t.x>=0,n=t.y<this.height&&t.y>=0;return e&&n}isEqualTo(t){let e=!0;t instanceof r||(e=!1);for(let n of this)this.getValueAt(n)!=t.getValueAt(n)&&(e=!1);return e}}r.prototype[Symbol.iterator]=function(){return new o(this)};class o{constructor(t){this.x=0,this.y=0,this.grid=t}next(){if(this.y==this.grid.height)return{done:!0};let t=new i({x:this.x,y:this.y});return this.x++,this.x==this.grid.width&&(this.x=0,this.y++),{value:t,done:!1}}}t.exports={Grid:r,GridIterator:o}},337:t=>{class e{constructor({x:t,y:e}){if("number"!=typeof t||"number"!=typeof e)throw new Error("Error: point can only consist of numbers");t=Math.trunc(t),e=Math.trunc(e),this.x=t,this.y=e}get neighbors(){return[this.topLeft,this.up,this.topRight,this.left,this.right,this.bottomLeft,this.down,this.bottomRight]}get up(){return new e({x:this.x,y:this.y+1})}get topRight(){return new e({x:this.x+1,y:this.y+1})}get right(){return new e({x:this.x+1,y:this.y})}get bottomRight(){return new e({x:this.x+1,y:this.y-1})}get down(){return new e({x:this.x,y:this.y-1})}get bottomLeft(){return new e({x:this.x-1,y:this.y-1})}get left(){return new e({x:this.x-1,y:this.y})}get topLeft(){return new e({x:this.x-1,y:this.y+1})}}t.exports={Point:e}}},e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}(()=>{const t=n(105),{Grid:e}=n(584);let i,r,o,h,s,u,l,a;function c(){l=t.nextState(l),f(l)}function d(){l=t.randomize(l),f(l)}function f(e){r.fillStyle="white",r.fillRect(0,0,i.width,i.height);for(let n of e)t.isAlive(n,e)&&(r.fillStyle="#68F",r.fillRect(n.x*o,n.y*o,1*o,1*o))}!function(){h=document.getElementById("random"),h.addEventListener("click",d),s=document.getElementById("next"),s.addEventListener("click",c),a=document.getElementById("tune"),a.src="../posts/2021-02-15-game-of-life/tune.mp3",u=document.getElementById("run");let t=null;u.addEventListener("click",(()=>{t?(clearInterval(t),a.pause(),t=null,u.textContent="▶",u.style.backgroundColor="MediumSeaGreen",s.removeAttribute("disabled")):(u.textContent="❙❙",u.style.backgroundColor="Salmon",s.setAttribute("disabled","true"),a.play(),t=setInterval(c,200))})),i=document.getElementById("gameOfLife"),r=i.getContext("2d"),o=5,l=new e({width:window.innerWidth/o,height:window.innerHeight/o,defaultValue:" "}),i.width=window.innerWidth,i.height=window.innerHeight,d()}()})()})();